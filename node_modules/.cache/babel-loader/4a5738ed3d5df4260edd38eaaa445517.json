{"ast":null,"code":"import X2JS from \"x2js\";\n// Used as a workaround for Cross Origin Security Policy\nconst ALL_ORIGINS_BASE_URL = \"https://api.allorigins.win/get?url=\";\nconst x2js = new X2JS();\nexport const getArticles = async category => {\n  const resRaw = await fetch(ALL_ORIGINS_BASE_URL + category.url);\n  const resJson = await resRaw.json();\n  console.log(\"fetching\", ALL_ORIGINS_BASE_URL + category.url);\n  console.log(\"res\", resJson);\n  const resXml = resJson.contents;\n  console.log(\"resXml\", resXml);\n  const xmlConvertedToJson = x2js.xml2js(resXml);\n  const returnValue = xmlConvertedToJson.rss.channel.item;\n  console.log(\"!!!v\", returnValue);\n  return returnValue;\n};","map":{"version":3,"sources":["/Users/matteolobello/Developer/Matteo/ansa-reader/src/api/api.ts"],"names":["X2JS","ALL_ORIGINS_BASE_URL","x2js","getArticles","category","resRaw","fetch","url","resJson","json","console","log","resXml","contents","xmlConvertedToJson","xml2js","returnValue","rss","channel","item"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAIA;AACA,MAAMC,oBAAoB,GAAG,qCAA7B;AAEA,MAAMC,IAAI,GAAG,IAAIF,IAAJ,EAAb;AAEA,OAAO,MAAMG,WAAW,GAAG,MAAOC,QAAP,IAA+B;AACtD,QAAMC,MAAM,GAAG,MAAMC,KAAK,CAACL,oBAAoB,GAAGG,QAAQ,CAACG,GAAjC,CAA1B;AACA,QAAMC,OAAO,GAAG,MAAMH,MAAM,CAACI,IAAP,EAAtB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBV,oBAAoB,GAAGG,QAAQ,CAACG,GAAxD;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBH,OAAnB;AAEA,QAAMI,MAAM,GAAGJ,OAAO,CAACK,QAAvB;AAEAH,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,MAAtB;AAEA,QAAME,kBAAkB,GAAGZ,IAAI,CAACa,MAAL,CAAiBH,MAAjB,CAA3B;AACA,QAAMI,WAAW,GAAGF,kBAAkB,CAACG,GAAnB,CAAuBC,OAAvB,CAA+BC,IAAnD;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBK,WAApB;AAEA,SAAOA,WAAP;AACH,CAhBM","sourcesContent":["import X2JS from \"x2js\"\nimport { ICategory } from \"../models/ICategory\"\nimport { IArticle } from \"../models/IArticle\"\n\n// Used as a workaround for Cross Origin Security Policy\nconst ALL_ORIGINS_BASE_URL = \"https://api.allorigins.win/get?url=\"\n\nconst x2js = new X2JS()\n\nexport const getArticles = async (category: ICategory) => {\n    const resRaw = await fetch(ALL_ORIGINS_BASE_URL + category.url)\n    const resJson = await resRaw.json()\n\n    console.log(\"fetching\", ALL_ORIGINS_BASE_URL + category.url)\n    console.log(\"res\", resJson)\n\n    const resXml = resJson.contents\n\n    console.log(\"resXml\", resXml)\n\n    const xmlConvertedToJson = x2js.xml2js<any>(resXml)\n    const returnValue = xmlConvertedToJson.rss.channel.item\n    console.log(\"!!!v\", returnValue)\n\n    return returnValue\n}\n"]},"metadata":{},"sourceType":"module"}